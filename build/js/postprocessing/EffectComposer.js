THREE.EffectComposer=function(a,b){if(this.renderer=a,this.renderTarget1=b,void 0===this.renderTarget1){var c=window.innerWidth||1,d=window.innerHeight||1;this.renderTargetParameters={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1},this.renderTarget1=new THREE.WebGLRenderTarget(c,d,this.renderTargetParameters)}this.renderTarget2=this.renderTarget1.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],this.copyPass=new THREE.ShaderPass(THREE.ShaderExtras.screen)},THREE.EffectComposer.prototype={swapBuffers:function(){var a=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=a},addPass:function(a){this.passes.push(a)},render:function(a){this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2;var b,c,d=!1,e=this.passes.length;for(c=0;e>c;c++)if(b=this.passes[c],b.enabled){if(b.render(this.renderer,this.writeBuffer,this.readBuffer,a,d),b.needsSwap){if(d){var f=this.renderer.context;f.stencilFunc(f.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,a),f.stencilFunc(f.EQUAL,1,4294967295)}this.swapBuffers()}b instanceof THREE.MaskPass?d=!0:b instanceof THREE.ClearMaskPass&&(d=!1)}},reset:function(a){this.renderTarget1=a,void 0===this.renderTarget1&&(this.renderTarget1=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,this.renderTargetParameters)),this.renderTarget2=this.renderTarget1.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,THREE.EffectComposer.quad.scale.set(window.innerWidth,window.innerHeight,1),THREE.EffectComposer.camera.left=window.innerWidth/-2,THREE.EffectComposer.camera.right=window.innerWidth/2,THREE.EffectComposer.camera.top=window.innerHeight/2,THREE.EffectComposer.camera.bottom=window.innerHeight/-2,THREE.EffectComposer.camera.updateProjectionMatrix()}},THREE.EffectComposer.initWidth=window.innerWidth||1,THREE.EffectComposer.initHeight=window.innerHeight||1,THREE.EffectComposer.camera=new THREE.OrthographicCamera(THREE.EffectComposer.initWidth/-2,THREE.EffectComposer.initWidth/2,THREE.EffectComposer.initHeight/2,THREE.EffectComposer.initHeight/-2,-1e4,1e4),THREE.EffectComposer.geometry=new THREE.PlaneGeometry(1,1),THREE.EffectComposer.geometry.applyMatrix((new THREE.Matrix4).makeRotationX(Math.PI/2)),THREE.EffectComposer.quad=new THREE.Mesh(THREE.EffectComposer.geometry,null),THREE.EffectComposer.quad.position.z=-100,THREE.EffectComposer.quad.scale.set(THREE.EffectComposer.initWidth,THREE.EffectComposer.initHeight,1),THREE.EffectComposer.scene=new THREE.Scene,THREE.EffectComposer.scene.add(THREE.EffectComposer.quad),THREE.EffectComposer.scene.add(THREE.EffectComposer.camera);
//# sourceMappingURL=EffectComposer.map