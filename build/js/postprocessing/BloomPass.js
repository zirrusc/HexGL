THREE.BloomPass=function(a,b,c,d){a=void 0!==a?a:1,b=void 0!==b?b:25,c=void 0!==c?c:4,d=void 0!==d?d:256;var e={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat};this.renderTargetX=new THREE.WebGLRenderTarget(d,d,e),this.renderTargetY=new THREE.WebGLRenderTarget(d,d,e);var f=THREE.ShaderExtras.screen;this.screenUniforms=THREE.UniformsUtils.clone(f.uniforms),this.screenUniforms.opacity.value=a,this.materialScreen=new THREE.ShaderMaterial({uniforms:this.screenUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,blending:THREE.AdditiveBlending,transparent:!0});var g=THREE.ShaderExtras.convolution;this.convolutionUniforms=THREE.UniformsUtils.clone(g.uniforms),this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurx,this.convolutionUniforms.cKernel.value=THREE.ShaderExtras.buildKernel(c),this.materialConvolution=new THREE.ShaderMaterial({uniforms:this.convolutionUniforms,vertexShader:"#define KERNEL_SIZE "+b+".0\n"+g.vertexShader,fragmentShader:"#define KERNEL_SIZE "+b+"\n"+g.fragmentShader}),this.enabled=!0,this.needsSwap=!1,this.clear=!1},THREE.BloomPass.prototype={render:function(a,b,c,d,e){e&&a.context.disable(a.context.STENCIL_TEST),THREE.EffectComposer.quad.material=this.materialConvolution,this.convolutionUniforms.tDiffuse.texture=c,this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurX,a.render(THREE.EffectComposer.scene,THREE.EffectComposer.camera,this.renderTargetX,!0),this.convolutionUniforms.tDiffuse.texture=this.renderTargetX,this.convolutionUniforms.uImageIncrement.value=THREE.BloomPass.blurY,a.render(THREE.EffectComposer.scene,THREE.EffectComposer.camera,this.renderTargetY,!0),THREE.EffectComposer.quad.material=this.materialScreen,this.screenUniforms.tDiffuse.texture=this.renderTargetY,e&&a.context.enable(a.context.STENCIL_TEST),a.render(THREE.EffectComposer.scene,THREE.EffectComposer.camera,c,this.clear)}},THREE.BloomPass.blurX=new THREE.Vector2(.001953125,0),THREE.BloomPass.blurY=new THREE.Vector2(0,.001953125);
//# sourceMappingURL=BloomPass.map