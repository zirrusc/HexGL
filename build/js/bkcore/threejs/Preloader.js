var bkcore=bkcore||{};bkcore.threejs=bkcore.threejs||{},bkcore.threejs.Preloader=function(a){function b(){d.end||(requestAnimationFrame(b),d.render())}function c(a){d.mouseMove.call(d,a)}this.document=a.document||document,this.end=!1,this.time=0,this.y=.3,this.ratio=0,this.height=a.height,this.width=a.width,this.scale=void 0==a.scale?10:a.scale,this.line=void 0==a.line?3:a.line,this.container=a.container,this.renderer=new THREE.CanvasRenderer({clearColor:16777215}),this.renderer.setSize(a.width,a.height),this.container.appendChild(this.renderer.domElement),this.ctx=this.renderer.domElement.getContext("2d"),this.ctx.textAlign="center",this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(70,a.width/a.height,1,1e3),this.camera.position.z=100,this.scene.add(this.camera),this.stage=new THREE.Object3D,this.stage.position.set(0,10,0),this.scene.add(this.stage),this.cube=new THREE.Mesh(new THREE.CubeGeometry(this.scale,this.scale,this.scale,1,1,1),new THREE.MeshBasicMaterial({color:10066329})),this.cube.scale.set(0,0,0),this.stage.add(this.cube),this.cubew=new THREE.Mesh(new THREE.CubeGeometry(this.scale,this.scale,this.scale,1,1,1),new THREE.MeshBasicMaterial({wireframe:!0,wireframeLinewidth:this.line,color:16777215})),this.cube.add(this.cubew),this.outercube=new THREE.Mesh(new THREE.CubeGeometry(this.scale,this.scale,this.scale,1,1,1),new THREE.MeshBasicMaterial({wireframe:!0,wireframeLinewidth:this.line,color:37848})),this.stage.add(this.outercube);var d=this;b(),this.mmsave=c,this.document.addEventListener("mousemove",c,!1)},bkcore.threejs.Preloader.prototype.render=function(){this.time+=.02,this.ctx.clearRect(0,0,this.width,this.height);var a=.3*(this.ratio-this.cube.scale.x);this.cube.scale.addScalar(a),this.cube.rotation.y=this.time,this.outercube.rotation.y=this.time,this.stage.rotation.x+=.3*(this.y-this.stage.rotation.x),this.renderer.render(this.scene,this.camera),this.ctx.save(),this.ctx.font="40px Arial",this.ctx.fillStyle="rgb(200, 200, 200)",this.ctx.fillText(Math.round(100*this.ratio),this.width/2,this.height/2+30),this.ctx.restore()},bkcore.threejs.Preloader.prototype.mouseMove=function(a){var b=this.height/2;this.y=-(a.clientY-b)/b+.3},bkcore.threejs.Preloader.prototype.remove=function(){this.document.removeEventListener("mousemove",this.mm,!1),this.end=!0,this.renderer=null,this.scene=null,this.stage=null,this.cube=null,this.cubew=null,this.innercube=null,this.container.innerHTML=""};
//# sourceMappingURL=Preloader.map