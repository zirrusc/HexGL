{"version":3,"file":"HexGL.js","sources":["..\\..\\..\\..\\src\\js\\bkcore\\hexgl\\HexGL.js"],"names":["bkcore","hexgl","HexGL","opts","onKeyPress","event","keyCode","self","reset","this","document","a","window","location","href","active","width","undefined","innerWidth","height","innerHeight","quality","difficulty","player","half","track","tracks","settings","renderer","manager","lib","materials","components","extras","vignetteColor","THREE","Color","bloom","fxaa","containers","main","container","body","overlay","hud","gameplay","composers","game","initRenderer","addEventListener","prototype","start","raf","requestAnimationFrame","update","setCurrent","initGameplay","get","objects","lowFPS","restart","getElementById","style","display","renderCurrent","init","initHUD","buildMaterials","buildScenes","initGameComposer","load","Gameplay","mode","shipControls","analyser","pixelRatio","checkpoints","spawn","spawnRotation","onFinish","displayScore","finishTime","lapTimes","f","l","t","dc","ds","dh","dr","dt","dl1","dl2","dl3","dd","st","sf","sl","d","ts","timeSeparators","tf","Timer","msToTimeString","tl","result","results","FINISH","innerHTML","localStorage","p","Ladder","global","length","m","s","ms","encodeURIComponent","displayLadder","WebGLRenderer","antialias","clearColor","physicallyBasedShading","gammaInput","gammaOutput","shadowMapEnabled","shadowMapSoft","autoClear","sortObjects","setSize","domElement","position","appendChild","threejs","RenderManager","HUD","font","bg","speed","shield","canvas","renderTargetParameters","minFilter","LinearFilter","magFilter","format","RGBFormat","stencilBuffer","renderTarget","WebGLRenderTarget","renderSky","RenderPass","scene","camera","renderModel","clear","EffectComposer","effectHex","ShaderPass","ShaderExtras","Shaders","uniforms","value","texture","renderToScreen","addPass","effectFXAA","set","effectBloom","BloomPass","createMesh","parent","geometry","x","y","z","mat","computeTangents","mesh","Mesh","add","castShadow","receiveShadow","tweakShipControls","c","airResist","airDrift","thrust","airBrake","maxSpeed","boosterSpeed","boosterDecay","angularSpeed","airAngularSpeed","rollAngle","shieldDamage","collisionSpeedDecrease","collisionSpeedDecreaseCoef","rollLerp","driftLerp","angularLerp"],"mappings":"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"}